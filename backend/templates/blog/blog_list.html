{% load static tailwind_tags %}
{% load static %}
{% load widget_tweaks %}

<!DOCTYPE html>
<html lang="tr">
<head>
    {% tailwind_css %}
    <title>Blog</title>
</head>
<body class="bg-gradient-to-br from-gray-100 to-blue-100 min-h-screen font-sans">
    {% include 'mainpage/navbar.html' %}
    <div class="container mx-auto px-4 py-10">
        <div class="flex justify-end mb-8">
            <a href="{% url 'post_create' %}" class="inline-block px-6 py-3 bg-blue-700 text-white font-semibold rounded-lg shadow hover:bg-blue-800 transition">
                + Yeni Yazı
            </a>
        </div>
        <h1 class="text-4xl font-bold text-center text-blue-700 mb-12">Blog Yazıları</h1>
        <div class="space-y-10">
            {% for post in posts %}
                <div class="bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto">
                    <h2 class="text-2xl font-semibold text-blue-800 mb-4">
                        <a href="{% url 'post_detail' post.pk %}" class="hover:underline">{{ post.title }}</a>
                    </h2>
                    <div class="mb-4 text-gray-800 leading-relaxed text-base break-words">
                        {{ post.content|safe }}
                    </div>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>
                            <strong>Yazar:</strong>
                            {% if post.author %}
                                <a href="{% url 'user_profile' post.author.username %}" class="text-blue-700 hover:underline">
                                    {{ post.author.username }}
                                </a>
                            {% else %}
                                (Bilinmiyor)
                            {% endif %}
                        </span>
                        <span>
                            <small>{{ post.created_at|date:"d M Y H:i" }}</small>
                        </span>
                    </div>
                </div>
            {% empty %}
                <div class="text-center text-gray-600">Henüz blog yazısı yok.</div>
            {% endfor %}
        </div>
    </div>
</body>
</html>
